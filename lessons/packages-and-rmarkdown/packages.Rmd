# Extending R with Packages

------------

> ## Learning Objectives
>
> * Know what packages are and how to install them from CRAN

------------

# Packages

Packages are bundles of code which extend the functionality of R.

Anyone can make an R package, and anyone can install anyone else's R package (if they make it available). This is part of the beauty of open source, and using different R packages is essential to modern R workflows.

You can get packages from many different places, but we'll focus on just the most common one: [CRAN](https://cran.r-project.org). CRAN is the Comprehensive R Archive Network, a global network of servers which make available for download a set of vetted R packages.

The next section is about RMarkdown, a package, so we'll install that now.


## Installation

To download and install a package from CRAN, call the `install.packages` command on a string with the name of the desired package. You will get output describing the installation progress.

```{r, eval = TRUE}
install.packages("rmarkdown", repos="http://cran.rstudio.com/")
```

You may be asked to choose a mirror; the RStudio mirror is a good choice as it will pick the nearest mirror automatically. This will also download and install packages which RMarkdown depends on.

You only need to install a package once per machine, unless you need to update an already-installed package. Calling `install.packages` for an existing package will update it if there's a more recent version on CRAN than on your machine.

You can view all of the installed packages using the `installed.packages` command. This will output a lot of information for each package, so if you only want a list of the installed package names, you can specify that you want the "Package" column. I like to look at this as a vector.

```{r, eval = TRUE}
as.vector(installed.packages()[,"Package"])
```


## Loading

Most packages need to be loaded into the current environment to be accessible. RMarkdown is specially integrated in RStudio in a way that avoids this, but in general we load packages with the `library` command:

```{r, eval = TRUE}
library(rmarkdown)  # notice the lack of quotes
```

This will come up again later in the lesson on `dplyr`, an external package that _does_ need to be loaded.

You can also view the packages that you have loaded into your workspace.

```{r, eval = TRUE}
(.packages())
```
